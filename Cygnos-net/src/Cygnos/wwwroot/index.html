
<!DOCTYPE html>
<html>
<head>
    <title>Cygnos music player</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script type='text/javascript'>
        $(document)
            .ready(function () {
                $("#search")
                    .click(function () {
                        $.getJSON("api/search/" + $("#query").val(),
                            function (tracks) {
                                var items = [];
                                $.each(tracks,
                                    function (index, track) {
                                        items.push("<li data-trackData='" +
                                           JSON.stringify(track) +
                                            "'>" +
                                            track.trackName +
                                            "</li>");
                                    });

                                $("#results").html(items.join(""));
                            });
                    });
                $("#stop").click(function () {
                    $.ajax({
                        type: "POST",
                        url: "api/player/stop",
                        contentType: "application/json",
                        data: $(this).attr("data-trackData")
                    });
                })
                $("#results")
                    .on("click",
                        "li",
                        function () {
                            $.ajax({
                                type: "POST",
                                url: "api/player/play",
                                contentType: "application/json",
                                data: $(this).attr("data-trackData")
                            });
                        });
            });
    </script>


</head>

<body>
    <div class="container">
        <h1>Search for tracks</h1>
        <p>Type an search query and click on "Search". Then, click on any track to play it on server....</p>
        <input type="text" id="query" value="" class="form-control" placeholder="Search for..." />
        <button id="search" onclick="">Search</button>
        <button id="stop" onclick="">Stop</button>
        <div id="results"></div>
    </div>
</body>

</html>
